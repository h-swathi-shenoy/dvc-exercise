schema: '2.0'
stages:
  prepare:
    cmd: python src/load.py raw/IRIS.csv
    deps:
    - path: data/raw/IRIS.csv
      hash: md5
      md5: bab8c78b12bd4b32b7964f775ed5a24d
      size: 4617
    - path: src/load.py
      hash: md5
      md5: df804cc8f1025690b5669ee4a7bd5921
      size: 1309
    params:
      params.yaml:
        load.random_state: 42
        load.split: 0.2
    outs:
    - path: data/prepared
      hash: md5
      md5: 207dc9fd2180fac24feb79044b797d50.dir
      size: 5268
      nfiles: 2
  features:
    cmd: python src/features.py data/prepared processed encoder features
    deps:
    - path: data/prepared/train.csv
      hash: md5
      md5: 6cf863956b327227f7094a2a7952e459
      size: 4190
    - path: src/features.py
      hash: md5
      md5: ac0abc3f1231cb0dd2e31c826ed2585f
      size: 3225
    params:
      params.yaml:
        features.max_features: 3
    outs:
    - path: data/processed
      hash: md5
      md5: 9f0b1fb1918629aac86d1ac2a4c4b6fe.dir
      size: 8966
      nfiles: 2
    - path: models/encoder
      hash: md5
      md5: 77cbfe4c9ee38c59d7dc361f6c6fe1f7.dir
      size: 931
      nfiles: 2
    - path: models/features
      hash: md5
      md5: 4974af979fbae2559cbe4763f4e5e6af.dir
      size: 50
      nfiles: 1
  training:
    cmd: python src/model.py data/processed artifacts features
    deps:
    - path: data/processed/encoded-labels.csv
      hash: md5
      md5: 44eef2177af8b8f84dfde20efd751a93
      size: 368
    - path: data/processed/train-norm.csv
      hash: md5
      md5: 483e54121a8c7533f0de1fe364a35e8e
      size: 8598
    - path: models/features/features.yaml
      hash: md5
      md5: ec74c54600c0e31b56273180ee74254a
      size: 50
    - path: src/model.py
      hash: md5
      md5: 2fb284c142d9575226a3cc98d23192aa
      size: 1488
    outs:
    - path: models/artifacts
      hash: md5
      md5: 03f1f47aa0466666a588e4207b5a9732.dir
      size: 245553
      nfiles: 1
  inference:
    cmd: python src/inference.py data/prepared features artifacts encoder
    deps:
    - path: data/prepared/test.csv
      hash: md5
      md5: 7a9525fd5a3289d9823708bf3171d60e
      size: 1078
    - path: models/artifacts/model.pkl
      hash: md5
      md5: 42d04f30fc7c48bfeb85bbce6ddc6ea3
      size: 245553
    - path: models/encoder/label_encode.pkl
      hash: md5
      md5: 53962164b1e4861ab876460cabc1e6e3
      size: 291
    - path: models/encoder/scaler_encode.pkl
      hash: md5
      md5: 9ab4a339b07b1e35d8f08f79f25e2234
      size: 640
    - path: models/features/features.yaml
      hash: md5
      md5: ec74c54600c0e31b56273180ee74254a
      size: 50
    outs:
    - path: data/evaluate/metrics.json
      hash: md5
      md5: 132445753e0d47fab744a0cd808aa009
      size: 103
